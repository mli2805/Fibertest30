During the monitoring process, a comparison algorithm (`ITraceComparator`) detects changes between a measurement and its baseline.

`AlarmProcessingContext` is a class that is responsible for comparing current changes with existing alarms,
and categorizing them conveniently into added, updated and resolved groups.

- If a change detected first time, a new alarm is created.
- If the change alters its state, the alarm is updated (could be reactivated)
- If the change disappears, the alarm is resolved.

`IMonitoringAlarmRepository.SaveAlarmProcessing` is responsible for saving alarms to the database, it updates tables that store alarms (MonitoringAlarm, MonitoringAlarmEvents). It also generates as output a list of `MonitoringAlarmEvent` that represent alarm events, i.e. an objects that contain information about alarm state changes. The list is sent as a system notification to users to notify about changed alarm states.

When Rfts400 creates an alarm for the first time, it assigns a unique `AlarmId` to it.
All alarms that have the same distance (with a certain tolerance) and type (EventLoss, ReflectanceLoss, FiberBreak, etc.)
are considered as the same alarm, and will get the same `AlarmId`.
This way an user can see the full history of a specific alarm.

Each specific alarm is stored in `MonitoringAlarm` table, the `MonitoringAlarm.Id` is the `AlarmId`.
`MonitoringAlarm` table is updated every time an alarm changes its state.
You can think of `MonitoringAlarm` as a place to store specific alarms with its latest state.

`MonitoringAlarmEvents` table stores the history of alarms, we call it alarm events.
I.e. a new row appears every time an alarm changes its state (status or level).

From the user perspective, it's not convenient to see the same `AlarmId` after alarm is resolved and active again.
Therefore, we have a concept on `AlarmGroupId`.
`AlarmGroupId` is a unique identifier that increments each time any alarm is activated.
To generate next `AlarmGroupId` an autogenerated column in `AlarmGroupId` table is used.

When an user sees an `Alarm ID` in the UI, it is actually the `AlarmGroupId`.
